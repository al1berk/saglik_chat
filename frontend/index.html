<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antalya Sağlık Turizmi Asistanı</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --success: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --light: #f8f9ff;
            --dark: #1e2442;
            --gray: #6b7280;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chat-container {
            width: 100%;
            max-width: 1000px;
            height: 90vh;
            max-height: 800px;
            background: white;
            border-radius: 30px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.5s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chat-header {
            background: linear-gradient(135deg, var(--dark) 0%, #2d3561 100%);
            color: white;
            padding: 25px 30px;
            display: flex;
            align-items: center;
            gap: 20px;
            position: relative;
            overflow: hidden;
        }

        .chat-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .bot-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
            position: relative;
            z-index: 1;
        }

        .header-info {
            flex: 1;
            position: relative;
            z-index: 1;
        }

        .header-info h1 {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .online-status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            opacity: 0.9;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            background: var(--success);
            border-radius: 50%;
            animation: blink 2s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            background: linear-gradient(180deg, var(--light) 0%, #ffffff 100%);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .chat-messages::-webkit-scrollbar {
            width: 10px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
        }

        .message {
            display: flex;
            gap: 15px;
            animation: messageSlide 0.4s ease;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message.user .message-content {
            animation: messageSlideRight 0.4s ease;
        }

        @keyframes messageSlideRight {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .message-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            flex-shrink: 0;
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
        }

        .message-content {
            max-width: 75%;
            background: white;
            padding: 18px 22px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            position: relative;
        }

        .message.bot .message-content {
            border-bottom-left-radius: 5px;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-bottom-right-radius: 5px;
        }

        .treatment-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #fff 100%);
            border: 2px solid #e0e7ff;
            border-radius: 16px;
            padding: 20px;
            margin-top: 15px;
        }

        .treatment-card h3 {
            color: var(--dark);
            font-size: 18px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .treatment-card p {
            color: var(--gray);
            line-height: 1.7;
            margin-bottom: 12px;
        }

        .info-box {
            background: rgba(102, 126, 234, 0.08);
            border-left: 4px solid var(--primary);
            padding: 15px;
            border-radius: 10px;
            margin: 12px 0;
        }

        .info-box strong {
            color: var(--primary);
            display: block;
            margin-bottom: 8px;
        }

        .price-tag {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border-radius: 12px;
            font-weight: 700;
            font-size: 16px;
            margin: 10px 0;
        }

        .badge {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin: 5px 5px 5px 0;
        }

        .badge-primary {
            background: linear-gradient(135deg, #e0e7ff, #ddd6fe);
            color: var(--primary);
        }

        .badge-success {
            background: linear-gradient(135deg, #d1fae5, #a7f3d0);
            color: #065f46;
        }

        .quick-replies {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .quick-reply-btn {
            padding: 12px 20px;
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quick-reply-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .category-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #fff 100%);
            border: 2px solid #e0e7ff;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-card:hover {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .category-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .category-name {
            font-size: 13px;
            font-weight: 600;
        }

        .typing-indicator {
            display: none;
            padding: 18px 22px;
            background: white;
            border-radius: 20px;
            border-bottom-left-radius: 5px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            width: fit-content;
        }

        .typing-indicator.active {
            display: block;
        }

        .typing-dots {
            display: flex;
            gap: 8px;
        }

        .typing-dots span {
            width: 10px;
            height: 10px;
            background: var(--primary);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        .typing-dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.7;
            }
            30% {
                transform: translateY(-12px);
                opacity: 1;
            }
        }

        .chat-input-area {
            padding: 25px 30px;
            background: white;
            border-top: 2px solid #f0f0f0;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            padding: 16px 24px;
            border: 2px solid #e0e7ff;
            border-radius: 30px;
            font-size: 15px;
            outline: none;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .chat-input:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }

        .send-btn {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 22px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .send-btn:hover {
            transform: scale(1.1) rotate(15deg);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }

        .welcome-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .welcome-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .welcome-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 12px;
        }

        .welcome-subtitle {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 30px;
            line-height: 1.6;
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 100vh;
                max-height: 100vh;
                border-radius: 0;
            }

            .message-content {
                max-width: 85%;
            }

            .category-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .list-item {
            padding: 10px 0;
            border-bottom: 1px solid #e0e7ff;
        }

        .list-item:last-child {
            border-bottom: none;
        }

        ul {
            list-style: none;
            padding: 0;
        }

        .checkmark {
            color: var(--success);
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <div class="bot-avatar">🏥</div>
            <div class="header-info">
                <h1>Antalya Sağlık Turizmi</h1>
                <div class="online-status">
                    <span class="status-dot"></span>
                    <span>Çevrimiçi - Size yardımcı olmaya hazır</span>
                </div>
            </div>
        </div>

        <div class="chat-messages" id="chatMessages">
            <div class="welcome-screen">
                <div class="welcome-icon">🏥</div>
                <div class="welcome-title">Hoş Geldiniz!</div>
                <div class="welcome-subtitle">
                    Ben sizin kişisel sağlık turizmi asistanınızım. Antalya'da tedavi, konaklama, ulaşım ve daha fazlası hakkında size yardımcı olabilirim.
                </div>
                <div class="category-grid">
                    <div class="category-card" onclick="sendQuickMessage('Diş tedavisi')">
                        <div class="category-icon">🦷</div>
                        <div class="category-name">Diş Tedavisi</div>
                    </div>
                    <div class="category-card" onclick="sendQuickMessage('Estetik ameliyat')">
                        <div class="category-icon">✨</div>
                        <div class="category-name">Estetik</div>
                    </div>
                    <div class="category-card" onclick="sendQuickMessage('Saç ekimi')">
                        <div class="category-icon">💇</div>
                        <div class="category-name">Saç Ekimi</div>
                    </div>
                    <div class="category-card" onclick="sendQuickMessage('Göz ameliyatı')">
                        <div class="category-icon">👁️</div>
                        <div class="category-name">Göz</div>
                    </div>
                    <div class="category-card" onclick="sendQuickMessage('Kilo verme')">
                        <div class="category-icon">⚖️</div>
                        <div class="category-name">Kilo Verme</div>
                    </div>
                    <div class="category-card" onclick="sendQuickMessage('Otel')">
                        <div class="category-icon">🏨</div>
                        <div class="category-name">Konaklama</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-input-area">
            <input 
                type="text" 
                class="chat-input" 
                id="userInput" 
                placeholder="Mesajınızı yazın... (örn: diş implantı fiyatları)"
                onkeypress="handleKeyPress(event)"
            >
            <button class="send-btn" onclick="sendMessage()">➤</button>
        </div>
    </div>

    <script>
        // Mock veritabanı - Türkçe yanıtlar
        const responses = {
            // Selamlama
            greeting: {
                keywords: ['merhaba', 'selam', 'hey', 'günaydın', 'iyi günler', 'hi', 'hello'],
                response: {
                    text: `Merhaba! 👋 Antalya Sağlık Turizmine hoş geldiniz!

Ben sizin kişisel medikal turizm asistanınızım. Size şu konularda yardımcı olabilirim:

• En iyi klinikleri ve tedavileri bulmak
• Randevu ve işlem rezervasyonları
• Konaklama ve ulaşım organizasyonu
• Sigorta ve ödeme seçenekleri
• Tedavi sonrası bakım

Bugün size nasıl yardımcı olabilirim?`,
                    quickReplies: ['Tedaviler', 'Fiyatlar', 'Klinikler', 'Randevu Al']
                }
            },

            // Diş İmplantı
            dental_implant: {
                keywords: ['implant', 'diş implant', 'implant fiyat', 'diş protez'],
                response: {
                    text: `<h3>🦷 Diş İmplantı Tedavisi</h3>
                    
<p>Antalya'da ömür boyu garantili profesyonel diş implant işlemleri.</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>📋 Mevcut İmplant Türleri:</strong>
        • Tek diş implantı<br>
        • Çoklu implantlar<br>
        • All-on-4 (tam çene)<br>
        • All-on-6 (tam çene)<br>
        • Zigomatik implant (kemik kaybı için)
    </div>

    <div class="price-tag">
        💰 Fiyatlar: 450€ - 700€ (tek implant)
    </div>

    <div class="info-box">
        <strong>⏱️ Süre:</strong> 3-7 gün (işleme göre)
    </div>

    <div class="info-box">
        <strong>✅ Pakete Dahil:</strong>
        • İlk muayene ve röntgenler<br>
        • BT tarama ve planlama<br>
        • İmplant ameliyatı<br>
        • İyileşme başlığı<br>
        • Kron/protez<br>
        • Takip randevuları<br>
        • <strong>Ömür boyu garanti</strong>
    </div>

    <p><strong>🏥 En İyi Klinikler:</strong></p>
    <span class="badge badge-primary">Antalya Dental Center</span>
    <span class="badge badge-primary">BS Dental Studio</span>
    <span class="badge badge-primary">Dentantalya</span>
    
    <p style="margin-top: 15px;"><span class="checkmark">✓</span> <strong>Başarı Oranı:</strong> %98+</p>
</div>`,
                    quickReplies: ['Ücretsiz Konsültasyon', 'Fiyat Karşılaştır', 'Klinikleri Gör', 'Randevu Al']
                }
            },

            // Saç Ekimi
            hair_transplant: {
                keywords: ['saç ekimi', 'saç', 'fue', 'dhi', 'kellik', 'saç dökülmesi'],
                response: {
                    text: `<h3>💇 Saç Ekimi - FUE & DHI Yöntemleri</h3>
                    
<p>Özgüveninizi yeniden kazanın, doğal saç restorasyonu.</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>📋 Mevcut Yöntemler:</strong>
        
        <p><strong>FUE (Follicular Unit Extraction):</strong></p>
        • 3.000-4.000 greft: 1.800€ - 2.500€<br>
        • 4.000-5.000 greft: 2.200€ - 3.000€<br>
        • 5.000+ greft: 2.500€ - 3.500€<br><br>

        <p><strong>DHI (Direct Hair Implantation):</strong></p>
        • 3.000-4.000 greft: 2.200€ - 3.000€<br>
        • Premium teknik<br>
        • Daha yoğun sonuç<br>
        • Hızlı iyileşme<br><br>

        <p><strong>Safir FUE:</strong></p>
        • 3.000-5.000 greft: 2.500€ - 3.500€<br>
        • Safir bıçaklar<br>
        • Daha az iz<br>
        • Doğal saç çizgisi
    </div>

    <div class="info-box">
        <strong>⏱️ Süreç:</strong>
        • İşlem: 6-8 saat<br>
        • Konaklama: 2-3 gün<br>
        • İşe dönüş: 3-5 gün<br>
        • Nihai sonuçlar: 12-18 ay
    </div>

    <div class="info-box">
        <strong>✅ HER ŞEY DAHİL PAKET:</strong>
        • Ücretsiz konsültasyon ve planlama<br>
        • Kan testleri<br>
        • Saç çizgisi tasarımı<br>
        • Lokal anestezi (ağrısız)<br>
        • Saç ekimi işlemi<br>
        • PRP tedavisi (2 seans)<br>
        • Ameliyat sonrası ilaçlar<br>
        • Özel şampuan ve bakım kiti<br>
        • 5 yıldızlı otel (3 gece)<br>
        • VIP havalimanı transferleri<br>
        • 24/7 destek<br>
        • <strong>ÖMÜR BOYU GARANTİ</strong>
    </div>

    <p><strong>🎯 Ek Alanlar:</strong></p>
    • Sakal ekimi: +500€-800€<br>
    • Kaş ekimi: +800€-1.200€<br>
    • Yara kapatma: Değişken

    <p style="margin-top: 15px;"><strong>💎 Neden Bizi Seçmelisiniz:</strong></p>
    <span class="badge badge-success">10.000+ başarılı işlem</span>
    <span class="badge badge-success">Uluslararası cerrahlar</span>
    <span class="badge badge-success">Son teknoloji</span>
    <span class="badge badge-success">Doğal sonuçlar garantili</span>
</div>`,
                    quickReplies: ['Greft Hesapla', 'Sonuçları Gör', 'Hemen Rezervasyon', 'PRP Bilgisi']
                }
            },

            // Rinoplasti
            rhinoplasty: {
                keywords: ['burun estetiği', 'rinoplasti', 'burun', 'burun ameliyatı'],
                response: {
                    text: `<h3>✨ Rinoplasti (Burun Estetiği)</h3>
                    
<p>Doğal görünümlü sonuçlarla uzman rinoplasti.</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>📋 Mevcut Türler:</strong>
        
        <p><strong>Primer Rinoplasti:</strong></p>
        • Açık rinoplasti: 2.800€ - 4.000€<br>
        • Kapalı rinoplasti: 2.500€ - 3.500€<br>
        • Burun ucu estetiği: 2.000€ - 3.000€<br><br>

        <p><strong>Fonksiyonel:</strong></p>
        • Septoplasti (deviasyon): 2.200€ - 3.500€<br>
        • Kombine estetik + fonksiyonel: 3.000€ - 4.500€<br><br>

        <p><strong>Revizyon Rinoplasti:</strong></p>
        • İkincil rinoplasti: 3.500€ - 5.500€<br>
        • Kompleks revizyon: 4.500€ - 7.000€
    </div>

    <div class="price-tag">
        💰 Ortalama: 3.000€ - 4.000€
    </div>

    <div class="info-box">
        <strong>⏱️ Süreç:</strong>
        • Ameliyat: 2-3 saat<br>
        • Konaklama: 5-7 gün<br>
        • Tam iyileşme: 6-12 ay
    </div>

    <div class="info-box">
        <strong>✅ HER ŞEY DAHİL PAKET:</strong>
        • Ameliyat öncesi testler ve konsültasyon<br>
        • Board-sertifikalı cerrah tarafından ameliyat<br>
        • Genel anestezi<br>
        • 1 gece hastane konaklama<br>
        • İlaçlar<br>
        • 4 yıldızlı otel (5 gece)<br>
        • VIP transferler<br>
        • Ameliyat sonrası bakım ve takipler<br>
        • Alçı çıkarma<br>
        • 1 yıllık takip desteği
    </div>

    <p><strong>🏥 Uzman Cerrahlar:</strong></p>
    <span class="badge badge-primary">10+ yıl deneyim</span>
    <span class="badge badge-primary">Uluslararası eğitim</span>
    <span class="badge badge-primary">Doğal sonuç odaklı</span>
    
    <p style="margin-top: 15px;"><span class="checkmark">✓</span> <strong>Başarı Oranı:</strong> %95+</p>
</div>`,
                    quickReplies: ['Galeri Gör', 'Cerrah Profili', 'Ücretsiz Konsültasyon', 'Sanal Planlama']
                }
            },

            // Mide Küçültme
            gastric_sleeve: {
                keywords: ['mide küçültme', 'sleeve', 'obezite', 'kilo verme ameliyatı', 'gastrik sleeve'],
                response: {
                    text: `<h3>⚖️ Mide Küçültme Ameliyatı (Sleeve)</h3>
                    
<p>Kanıtlanmış sonuçlarla hayat değiştiren kilo verme ameliyatı.</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>📋 Gastrik Sleeve:</strong>
        <div class="price-tag">💰 Fiyat: 3.500€ - 5.000€</div>
        • En popüler işlem<br>
        • %60-70 fazla kilo kaybı<br>
        • Kalıcı çözüm<br><br>

        <strong>Nasıl Çalışır:</strong><br>
        • Midenin %80'i çıkarılır<br>
        • Açlık hormonu (ghrelin) azalır<br>
        • Küçük porsiyonlar<br>
        • Daha hızlı doyma
    </div>

    <div class="info-box">
        <strong>⏱️ Süreç:</strong>
        • Ameliyat: 1-2 saat<br>
        • Hastane: 2-3 gece<br>
        • Toplam konaklama: 5-7 gün<br>
        • İşe dönüş: 2-3 hafta
    </div>

    <div class="info-box">
        <strong>✅ HER ŞEY DAHİL PAKET:</strong>
        • Ameliyat öncesi testler (tam panel)<br>
        • Diyetisyen konsültasyonu<br>
        • Cerrah konsültasyonu<br>
        • Laparoskopik ameliyat<br>
        • 3 gece hastane<br>
        • 4 gece 5 yıldızlı otel<br>
        • Tüm ilaçlar<br>
        • Kompresyon giysiler<br>
        • Diyetisyen programı (6 ay)<br>
        • VIP transferler<br>
        • 24/7 koordinatör<br>
        • 1 yıllık takip<br>
        • Revizyon garantisi
    </div>

    <div class="info-box">
        <strong>📊 Beklenen Sonuçlar:</strong>
        • Ay 1: 10-15 kg<br>
        • Ay 3: 20-30 kg<br>
        • Ay 6: 30-40 kg<br>
        • Yıl 1: 40-60 kg<br>
        • Toplam: Fazla kilonun %60-70'i
    </div>

    <p><strong>💊 Sağlık Faydaları:</strong></p>
    <span class="badge badge-success">Diyabet remisyonu %80+</span>
    <span class="badge badge-success">Tansiyon normale döner</span>
    <span class="badge badge-success">Uyku apnesi iyileşir</span>
    <span class="badge badge-success">Eklem ağrısı azalır</span>
</div>`,
                    quickReplies: ['BMI Hesapla', 'Dönüşümleri Gör', 'Diyetisyen Sohbet', 'Randevu Al']
                }
            },

            // LASIK
            lasik: {
                keywords: ['lasik', 'göz lazeri', 'göz ameliyatı', 'miyop', 'hipermetrop'],
                response: {
                    text: `<h3>👁️ LASIK Göz Ameliyatı</h3>
                    
<p>Gözlük ve lenslerden özgürlük.</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>📋 LASIK Seçenekleri:</strong>
        
        <p><strong>Geleneksel LASIK:</strong></p>
        • Fiyat: 1.200€ - 1.600€ göz başına<br>
        • Kanıtlanmış teknoloji<br>
        • Hızlı iyileşme<br>
        • İki göz aynı gün<br><br>

        <p><strong>Femto LASIK (Bıçaksız):</strong></p>
        • Fiyat: 1.600€ - 2.000€ göz başına<br>
        • Tüm lazer işlem<br>
        • Daha hassas<br>
        • Daha hızlı iyileşme
    </div>

    <div class="info-box">
        <strong>⏱️ Zaman Çizelgesi:</strong>
        • Ön muayene: 1 saat<br>
        • Ameliyat: Göz başına 15 dakika<br>
        • İyileşme: Aynı gün<br>
        • Net görüş: 24-48 saat<br>
        • Stabil: 1-3 ay
    </div>

    <div class="info-box">
        <strong>✅ Pakete Dahil:</strong>
        • Kapsamlı göz muayenesi<br>
        • Kornea topografisi<br>
        • Wavefront analizi<br>
        • Her iki gözün ameliyatı<br>
        • Ameliyat sonrası ilaçlar<br>
        • 3 takip ziyareti<br>
        • Gerekirse iyileştirme (1 yıl içinde)<br>
        • Otel & transferler
    </div>

    <div class="info-box">
        <strong>🎯 Düzeltir:</strong>
        • Miyopi (yakın görme): -1.00 ile -10.00<br>
        • Hipermetropi (uzak görme): +1.00 ile +4.00<br>
        • Astigmatizm: 6.00'a kadar<br>
        • Yaş 18-65
    </div>

    <p style="margin-top: 15px;"><span class="checkmark">✓</span> <strong>Başarı Oranı:</strong> %98 - 20/20 veya daha iyi</p>
</div>`,
                    quickReplies: ['Ücretsiz Göz Muayenesi', 'Tasarruf Hesapla', 'Teknoloji Bilgisi', 'Ameliyat Randevusu']
                }
            },

            // Konaklama
            hotel: {
                keywords: ['otel', 'konaklama', 'nerede kalınır', 'otel önerisi'],
                response: {
                    text: `<h3>🏨 Antalya'da Konaklama Seçenekleri</h3>
                    
<p>Medikal tesislere yakın konforlu konaklamalar.</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>🏨 5 Yıldızlı Oteller (Medikal Paketler):</strong>
        
        <p><strong>Rixos Downtown Antalya:</strong></p>
        • Fiyat: 100€-150€/gece<br>
        • Şehir merkezi konumu<br>
        • Kliniklere 10 dk<br>
        • Spa & havuz<br><br>

        <p><strong>Divan Antalya:</strong></p>
        • Fiyat: 90€-130€/gece<br>
        • Business otel<br>
        • Hastanelere yakın<br>
        • Oda servisi<br><br>

        <p><strong>DoubleTree by Hilton:</strong></p>
        • Fiyat: 80€-120€/gece<br>
        • Modern tesisler<br>
        • Merkezi konum<br>
        • Havalimanı: 15km
    </div>

    <div class="info-box">
        <strong>🏨 4 Yıldızlı Oteller:</strong>
        
        <p><strong>Ramada Plaza:</strong></p>
        • Fiyat: 60€-90€/gece<br>
        • İyi fiyat-performans<br>
        • Medical Park'a yakın<br>
        • Temiz & rahat<br><br>

        <p><strong>Best Western Khan:</strong></p>
        • Fiyat: 50€-80€/gece<br>
        • Kaleiçi konumu<br>
        • Butik tarz<br>
        • Kahvaltı dahil
    </div>

    <div class="info-box">
        <strong>✅ Pakete Dahil (Medikal Paketler):</strong>
        • Günlük kahvaltı<br>
        • Havalimanı transferleri<br>
        • Hastane/klinik yakını<br>
        • İngilizce konuşan personel<br>
        • Medikal misafir hizmetleri<br>
        • Geç çıkış (gerekirse)
    </div>

    <p><strong>📍 En İyi Lokasyonlar:</strong></p>
    <span class="badge badge-primary">Lara: Özel hastanelere yakın</span>
    <span class="badge badge-primary">Konyaaltı: Sahil + klinikler</span>
    <span class="badge badge-primary">Şehir Merkezi: Tüm imkanlar</span>
</div>`,
                    quickReplies: ['Otel Fırsatları', 'Kliniğime Yakın', 'Uzun Konaklama', 'Upgrade Seçenekleri']
                }
            },

            // Fiyatlar
            price: {
                keywords: ['fiyat', 'ne kadar', 'ücret', 'maliyet', 'kaç para'],
                response: {
                    text: `<h3>💰 Fiyatlandırma Bilgileri</h3>
                    
<p>Şeffaf fiyatlandırma ile %50-70 tasarruf edin!</p>

<div class="treatment-card">
    <div class="info-box">
        <strong>💎 Neden Antalya?</strong>
        <p>Fiyatlarımız AB, İngiltere ve ABD'den %50-70 daha ucuz!</p>
    </div>

    <div class="info-box">
        <strong>📊 Örnek Karşılaştırmalar:</strong>
        
        <p><strong>Diş İmplantı:</strong></p>
        • Türkiye: 500€<br>
        • Almanya: 2.000€<br>
        • İngiltere: 2.500€<br>
        • ABD: 3.500€<br><br>

        <p><strong>Rinoplasti:</strong></p>
        • Türkiye: 3.000€<br>
        • Almanya: 8.000€<br>
        • İngiltere: 7.000€<br>
        • ABD: 12.000€<br><br>

        <p><strong>Saç Ekimi:</strong></p>
        • Türkiye: 2.000€<br>
        • Almanya: 10.000€<br>
        • İngiltere: 8.000€<br>
        • ABD: 15.000€<br><br>

        <p><strong>IVF (Tüp Bebek):</strong></p>
        • Türkiye: 4.000€<br>
        • Almanya: 10.000€<br>
        • İngiltere: 9.000€<br>
        • ABD: 15.000€
    </div>

    <div class="info-box">
        <strong>✅ Fiyata Dahil Olanlar:</strong>
        • Tıbbi ücretler<br>
        • Hastane/klinik ücretleri<br>
        • İlaçlar<br>
        • Otel (paket ise)<br>
        • Transferler (paket ise)<br>
        • Takipler
    </div>

    <div class="info-box">
        <strong>💳 Ödeme Seçenekleri:</strong>
        • Kredi/banka kartı<br>
        • Banka havalesi<br>
        • Nakit (EUR, USD, GBP, TRY)<br>
        • Taksit imkanları (3-6-12 ay)
    </div>

    <p><strong>🎁 Özel Teklifler:</strong></p>
    <span class="badge badge-success">Grup indirimleri</span>
    <span class="badge badge-success">Mevsimlik promosyonlar</span>
    <span class="badge badge-success">Paket fırsatları</span>
</div>`,
                    quickReplies: ['Teklif Al', 'Sigorta Kontrol', 'Taksit Planı', 'Fiyat Karşılaştır']
                }
            },

            // Sigorta
            insurance: {
                keywords: ['sigorta', 'sgk', 'özel sigorta', 'ödeme'],
                response: {
                    text: `<h3>💳 Sigorta & Ödeme Seçenekleri</h3>
                    
<div class="treatment-card">
    <div class="info-box">
        <strong>🏥 Özel Sigorta:</strong>
        
        <p><strong>Anlaşmalı Uluslararası Sigorta Şirketleri:</strong></p>
        <span class="badge badge-success">Allianz Global</span>
        <span class="badge badge-success">AXA International</span>
        <span class="badge badge-success">Cigna Global</span>
        <span class="badge badge-success">Bupa International</span>
        <span class="badge badge-success">DKV (Almanya)</span>
        <span class="badge badge-success">Debeka (Almanya)</span>
        <span class="badge badge-success">TK Techniker</span>
        
        <p style="margin-top: 15px;"><strong>Kapsam:</strong></p>
        • Poliçenizi kontrol edin<br>
        • Ön onay gerekli<br>
        • Direkt faturalandırma (bazı durumlar)<br>
        • Geri ödeme seçeneği<br>
        • Medikal raporlar sağlanır
    </div>

    <div class="info-box">
        <strong>🇹🇷 SGK (Türk Sosyal Güvenlik):</strong>
        
        <p><strong>SGK Kapsamı Mevcut:</strong></p>
        <span class="checkmark">✓</span> Diş tedavileri<br>
        <span class="checkmark">✓</span> Ortopedi<br>
        <span class="checkmark">✓</span> Göz ameliyatları (katarakt vb.)<br>
        <span class="checkmark">✓</span> Kardiyoloji<br>
        <span class="checkmark">✓</span> Genel cerrahi<br>
        <span class="checkmark">✓</span> Jinekoloji<br><br>

        <p><strong>SGK Kapsamı YOK:</strong></p>
        ✗ Kozmetik ameliyatlar<br>
        ✗ Saç ekimi<br>
        ✗ IVF (sınırlı kapsam)<br>
        ✗ Özel klinik ekstraları
    </div>

    <div class="info-box">
        <strong>💳 Ödeme Yöntemleri:</strong>
        • Kredi/Banka Kartları (Visa, Mastercard, AmEx)<br>
        • Nakit (EUR, USD, GBP, TRY)<br>
        • Banka Havalesi<br>
        • Taksit planları (3-6-12 ay)<br>
        • Bazı klinikler kripto kabul eder
    </div>
</div>`,
                    quickReplies: ['Teklif Al', 'Sigorta Kontrolü', 'Taksit Planı', 'Fiyat Karşılaştır']
                }
            },

            // Randevu
            appointment: {
                keywords: ['randevu', 'rezervasyon', 'randevu al', 'rezervasyon yap'],
                response: {
                    text: `<h3>📅 Randevu & Konsültasyon</h3>
                    
<div class="treatment-card">
    <div class="info-box">
        <strong>📋 Konsültasyon Seçenekleri:</strong>
        
        <p><strong>Ücretsiz Online Konsültasyon:</strong></p>
        • Video görüşme (WhatsApp/Zoom)<br>
        • Tıbbi geçmiş incelemesi<br>
        • Tedavi seçeneklerini görüşme<br>
        • Ön fiyat teklifi<br>
        • 30-45 dakika<br>
        • Zorunluluk yok<br>
        • Çoklu dil desteği<br><br>

        <p><strong>Yüz Yüze Konsültasyon (Antalya'da):</strong></p>
        • Uzmanla yüz yüze görüşme<br>
        • Fiziksel muayene<br>
        • Gerekirse teşhis testleri<br>
        • Tedavi planı<br>
        • Detaylı fiyat teklifi<br>
        • 50€-150€ (tedaviye mahsup edilir)
    </div>

    <div class="info-box">
        <strong>📱 Nasıl Rezervasyon Yapılır:</strong>
        
        <p><strong>Adım 1: Bize Ulaşın</strong></p>
        • WhatsApp: +90 XXX XXX XXXX<br>
        • Email: info@antalyahealth.com<br>
        • Web sitesi formu<br>
        • Bu chatbot!<br><br>

        <p><strong>Adım 2: Bilgi Sağlayın</strong></p>
        • İlgilendiğiniz tedavi<br>
        • Tıbbi geçmiş<br>
        • Mevcut ilaçlar<br>
        • Önceki tedaviler<br>
        • Fotoğraflar (ilgiliyse)<br><br>

        <p><strong>Adım 3: Teklif Alın</strong></p>
        • Tedavi seçenekleri<br>
        • Fiyat detayları<br>
        • Zaman çizelgesi<br>
        • Pakete dahil olanlar
    </div>

    <div class="info-box">
        <strong>⏱️ Yanıt Süresi:</strong>
        • Konsültasyon talebi: 2-4 saat<br>
        • Fiyat teklifi: 24 saat<br>
        • Rezervasyon onayı: 24 saat<br>
        • Acil durumlar: Anında
    </div>

    <div class="info-box">
        <strong>📱 24/7 Koordinatör:</strong>
        • Kişisel hasta koordinatörü<br>
        • WhatsApp desteği<br>
        • Çoklu dil<br>
        • Önce, sırasında, sonra destek
    </div>
</div>`,
                    quickReplies: ['Online Konsültasyon', 'Yüz Yüze Planlama', 'WhatsApp İle İletişim', 'Email Sorgu']
                }
            },

            // Genel/Default
            default: {
                response: {
                    text: `Size nasıl yardımcı olabilirim? 

Şu konularda size yardımcı olabilirim:

<div class="category-grid">
    <div class="category-card" onclick="sendQuickMessage('Diş implantı')">
        <div class="category-icon">🦷</div>
        <div class="category-name">Diş Tedavisi</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('Saç ekimi')">
        <div class="category-icon">💇</div>
        <div class="category-name">Saç Ekimi</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('Rinoplasti')">
        <div class="category-icon">✨</div>
        <div class="category-name">Estetik</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('Mide küçültme')">
        <div class="category-icon">⚖️</div>
        <div class="category-name">Kilo Verme</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('LASIK')">
        <div class="category-icon">👁️</div>
        <div class="category-name">Göz</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('Otel')">
        <div class="category-icon">🏨</div>
        <div class="category-name">Konaklama</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('Fiyatlar')">
        <div class="category-icon">💰</div>
        <div class="category-name">Fiyatlar</div>
    </div>
    <div class="category-card" onclick="sendQuickMessage('Randevu')">
        <div class="category-icon">📅</div>
        <div class="category-name">Randevu</div>
    </div>
</div>

<p style="margin-top: 20px;">Örnek sorular:</p>
• "Diş implantı fiyatları"<br>
• "Saç ekimi ne kadar sürer"<br>
• "Rinoplasti için en iyi klinik"<br>
• "Otel önerileri"<br>
• "Randevu almak istiyorum"`,
                    quickReplies: ['Tedaviler', 'Fiyatlar', 'Klinikler', 'İletişim']
                }
            }
        };

        // Yanıt bulma fonksiyonu
        function findResponse(message) {
            const msg = message.toLowerCase().trim();
            
            // Her kategoriyi kontrol et
            for (const category in responses) {
                const data = responses[category];
                if (data.keywords) {
                    for (const keyword of data.keywords) {
                        if (msg.includes(keyword)) {
                            return data.response;
                        }
                    }
                }
            }
            
            // Hiçbir eşleşme yoksa default
            return responses.default.response;
        }

        // Mesaj gönderme
        function sendMessage() {
            const input = document.getElementById('userInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addUserMessage(message);
            input.value = '';
            
            // Typing indicator göster
            showTyping();
            
            // 1.5 saniye sonra bot yanıtı
            setTimeout(() => {
                hideTyping();
                const response = findResponse(message);
                addBotMessage(response);
            }, 1500);
        }

        // Kullanıcı mesajı ekle
        function addUserMessage(text) {
            const messagesDiv = document.getElementById('chatMessages');
            
            // Welcome screen'i kaldır
            const welcome = messagesDiv.querySelector('.welcome-screen');
            if (welcome) welcome.remove();
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message user';
            messageDiv.innerHTML = `
                <div class="message-avatar">👤</div>
                <div class="message-content">${text}</div>
            `;
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Bot mesajı ekle
        function addBotMessage(response) {
            const messagesDiv = document.getElementById('chatMessages');
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message bot';
            
            let quickRepliesHTML = '';
            if (response.quickReplies) {
                quickRepliesHTML = `
                    <div class="quick-replies">
                        ${response.quickReplies.map(reply => 
                            `<button class="quick-reply-btn" onclick="sendQuickMessage('${reply}')">${reply}</button>`
                        ).join('')}
                    </div>
                `;
            }
            
            messageDiv.innerHTML = `
                <div class="message-avatar">🏥</div>
                <div class="message-content">
                    ${response.text}
                    ${quickRepliesHTML}
                </div>
            `;
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        // Quick message gönder
        function sendQuickMessage(text) {
            document.getElementById('userInput').value = text;
            sendMessage();
        }

        // Typing indicator
        function showTyping() {
            const messagesDiv = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-avatar">🏥</div>
                <div class="typing-indicator active">
                    <div class="typing-dots">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            messagesDiv.appendChild(typingDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        function hideTyping() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }

        // Enter tuşu ile gönder
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Sayfa yüklendiğinde otomatik çalışacak fonksiyonlar
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🏥 Antalya Sağlık Turizmi Chatbot Hazır!');
            
            // Input'a focus
            document.getElementById('userInput').focus();
        });

        // Global fonksiyonları window objesine ekle (HTML onclick için gerekli)
        window.sendMessage = sendMessage;
        window.sendQuickMessage = sendQuickMessage;
        window.handleKeyPress = handleKeyPress;
    </script>
    
    <!-- Modern API Integration Scripts -->
    <script src="js/api.js"></script>
    <script src="js/chat.js"></script>
</body>
</html>